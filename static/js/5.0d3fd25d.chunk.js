(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[5],{137:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="https://api.themoviedb.org/3/";function r(e){return"https://image.tmdb.org/t/p/original/".concat(e)}},143:function(e,t,a){"use strict";var n=a(137),r=a(139),c=a(142),s=a(140),i=a(188).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/movies-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY_MOVIE_DB:"14ccdb96456935bbb41591e99697d262"}).REACT_APP_API_URL,headers:{"content-type":"application/json"}});i.interceptors.request.use(function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c.a)(Object(c.a)({},t),{},{params:Object(c.a)(Object(c.a)({},t.params),{},{api_key:"14ccdb96456935bbb41591e99697d262"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){return Promise.reject(e)}));var o=i,u={getListMoviesTheaters:function(e){var t="".concat(n.a,"/movie/now_playing");return o.get(t,{params:e})},getListMoviesTopRated:function(e){var t="".concat(n.a,"/movie/top_rated");return o.get(t,{params:e})},getDataDetailMovies:function(e){var t="".concat(n.a,"/movie/").concat(e);return o.get(t)}};t.a=u},145:function(e,t,a){e.exports={root:"MovieCard_root__2FC87",cardArea:"MovieCard_cardArea__d_8hB",actionsContainer:"MovieCard_actionsContainer__3CedU",poster:"MovieCard_poster__1zE4I",yearSection:"MovieCard_yearSection__2nLRr",overText:"MovieCard_overText__pjgb5"}},163:function(e,t,a){e.exports={root:"Home_root__xzpXq",searchBox:"Home_searchBox__3uNcw",movieListContainer:"Home_movieListContainer__1Z3P4",errorMessageContainer:"Home_errorMessageContainer__10SrU",tabBox:"Home_tabBox__3iXko",layout:"Home_layout__1uNUB",buttonLayout:"Home_buttonLayout__3gaKQ"}},190:function(e,t,a){"use strict";a.r(t);var n=a(142),r=a(28),c=a(139),s=a(140),i=a(39),o=a(185),u=a(129),j=a(143),l=a(177),b=a(178),d=a(181),O=a(180),x=a(179),h=a(182),m=a(160),p=a.n(m),f=a(7),v=a(145),_=a.n(v),g=a(3),y=function(e){var t=e.title,a=e.year,n=e.id,r=e.poster,c=e.isLayoutGrid,s=Object(f.f)();return Object(g.jsxs)(l.a,{className:_.a.root,children:[Object(g.jsxs)(b.a,{className:_.a.cardArea,onClick:function(){s.push("/".concat(n))},children:[Object(g.jsx)(x.a,{component:"img",alt:t,height:"400",image:r,title:t,className:_.a.poster,style:{objectFit:c?"cover":"scale-down"}}),Object(g.jsx)(O.a,{className:_.a.overText,children:Object(g.jsx)("h2",{children:t})})]}),Object(g.jsx)(d.a,{className:_.a.actionsContainer,children:Object(g.jsxs)(h.a,{gutterBottom:!0,component:"i",className:_.a.yearSection,children:[Object(g.jsx)(p.a,{fontSize:"small"}),"\xa0",a]})})]})},C=a(183),N=function(){return Object(g.jsxs)(l.a,{className:_.a.root,children:[Object(g.jsxs)(b.a,{children:[Object(g.jsx)(C.a,{animation:"wave",variant:"rect",width:"100%",height:400}),Object(g.jsx)(O.a,{className:_.a.overText,children:Object(g.jsx)(C.a,{animation:"wave",variant:"text",width:"80%",height:40})})]}),Object(g.jsxs)(d.a,{className:_.a.actionsContainer,children:[Object(g.jsx)(C.a,{animation:"wave",variant:"text",width:100,height:40}),Object(g.jsx)(C.a,{animation:"wave",variant:"circle",width:40,height:40})]})]})},L=a(0),S=a(184),T=a(132),w=a(191),P=a(161),M=a.n(P),R=Object(S.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",backgroundColor:"#000000",border:"1px solid #f6c700"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}})),E=function(e){var t=e.onChange,a=e.className,n=R(),r=Object(L.useRef)(null),c=function(){r.current&&t(r.current.value)};return Object(g.jsxs)(T.a,{className:"".concat(n.root," ").concat(a),children:[Object(g.jsx)(w.a,{className:n.input,placeholder:"Search for a movie",inputRef:r,fullWidth:!0,onKeyPress:function(e){"Enter"===e.key&&c()}}),Object(g.jsx)(u.a,{type:"submit",className:n.iconButton,onClick:c,children:Object(g.jsx)(M.a,{})})]})};E.defaultProps={onChange:function(){}};var k=E,A=a(137),B=a(162),H=a(55),I=a(163),D=a.n(I),U=a(186),F=a(189),K="NOW_PLAYING",W="TOP_RATED",G="GRID",z="LIST",J=a(166),q=a.n(J),Q=a(167),V=a.n(Q);t.default=function(){var e=Object(L.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],b=Object(L.useState)(0),d=Object(i.a)(b,2),O=d[0],x=d[1],h=Object(L.useState)(G),m=Object(i.a)(h,2),p=m[0],f=m[1],v=Object(L.useState)(K),_=Object(i.a)(v,2),C=_[0],S=_[1];Object(L.useEffect)((function(){x(0),Y(),setTimeout((function(){X()}),1e3)}),[a,C]);var T=function(e,t){switch(e){case K:return j.a.getListMoviesTheaters(t);case W:return j.a.getListMoviesTopRated(t);default:return j.a.getListMoviesTheaters(t)}},w=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t){var a,n,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageParam,n={page:void 0===a?1:a},e.next=4,T(C,n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=Object(H.useInfiniteQuery)("movies",w,{getNextPageParam:function(e,t){return+e.total_results>10*O?O+1:null},enabled:!!a.length,onSuccess:function(e){x(O+1)},refetchOnWindowFocus:!1}),M=P.data,R=P.error,E=P.fetchNextPage,I=P.hasNextPage,J=P.isSuccess,Q=P.isLoading,X=P.refetch,Y=P.remove,Z=P.status,$=function(e){return Object(g.jsx)(o.a,{container:!0,spacing:2,children:Object(r.a)(new Array(e)).map((function(e,t){return Object(g.jsx)(o.a,{item:!0,xs:12,md:3,children:Object(g.jsx)(N,{})},t)}))})};return Object(g.jsx)("div",{className:D.a.root,children:Object(g.jsx)(o.a,{container:!0,justify:"center",children:Object(g.jsxs)(o.a,{item:!0,xs:12,sm:10,children:[Object(g.jsx)(o.a,{container:!0,justify:"center",children:Object(g.jsx)(o.a,{item:!0,xs:12,md:4,children:Object(g.jsx)(k,{className:D.a.resultsBox,onChange:function(e){l(e)}})})}),Object(g.jsx)(o.a,{container:!0,justify:"center",className:D.a.tabBox,children:Object(g.jsx)(o.a,{item:!0,xs:12,md:4,children:Object(g.jsxs)(F.a,{value:C,onChange:function(e,t){S(t)},indicatorColor:"primary",textColor:"primary",centered:!0,children:[Object(g.jsx)(U.a,{label:"Now playing",value:K}),Object(g.jsx)(U.a,{label:"Top rated",value:W})]})})}),Object(g.jsx)(o.a,{container:!0,justify:"flex-end",className:D.a.layout,children:Object(g.jsxs)(o.a,{container:!0,item:!0,xs:12,md:4,justify:"flex-end",children:[Object(g.jsx)(u.a,{"aria-label":"back",onClick:function(){f(G)},className:D.a.buttonLayout,children:Object(g.jsx)(q.a,{})}),Object(g.jsx)(u.a,{"aria-label":"back",onClick:function(){f(z)},className:D.a.buttonLayout,children:Object(g.jsx)(V.a,{})})]})}),Object(g.jsxs)(o.a,{item:!0,xs:12,className:D.a.movieListContainer,children:[!("success"===Z&&!Q)&&$(8),J&&function(){try{return M?Object(g.jsx)(B.a,{dataLength:M.pages.reduce((function(e,t){return{results:[].concat(Object(r.a)(e.results),Object(r.a)(t.results))}})).results.length,next:E,hasMore:I||!1,loader:$(4),style:{overflow:"hidden"},children:Object(g.jsx)(o.a,{container:!0,spacing:2,children:M.pages.reduce((function(e,t){return{results:[].concat(Object(r.a)(e.results),Object(r.a)(t.results))}})).results.map((function(e){var t=e.title,a=e.id,r=e.release_date,c=e.poster_path,s=p===G;return Object(g.jsx)(o.a,Object(n.a)(Object(n.a)({item:!0,xs:12},s&&{md:3}),{},{children:Object(g.jsx)(y,{title:t,id:a,year:r,poster:Object(A.b)(c),isLayoutGrid:s})}),a)}))})}):Object(g.jsx)(g.Fragment,{children:"No Result"})}catch(R){console.log("\ud83d\ude80 ~ file: index.tsx:80 ~ renderListMovies ~ error",R)}}(),!!R&&Object(g.jsx)("div",{className:D.a.errorMessageContainer,children:JSON.stringify(R)})]})]})})})}}}]);
//# sourceMappingURL=5.0d3fd25d.chunk.js.map